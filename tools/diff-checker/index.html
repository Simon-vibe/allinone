<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="diff.meta.title">Diff Checker - Compare Text Files Online</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öñÔ∏è</text></svg>">
    <meta name="description"
        content="Compare two text files or snippets side-by-side to find differences. Highlight changes, added, and removed lines instantly."
        data-i18n="diff.meta.desc">
    <meta name="keywords" content="diff checker, compare text, text difference, diff tool, online file compare"
        data-i18n="diff.meta.keywords">

    <!-- Canonical -->
    <link rel="canonical" href="https://allinone.page/tools/diff-checker/">

    <!-- Hreflang -->
    <link rel="alternate" hreflang="en" href="https://allinone.page/tools/diff-checker/" />
    <link rel="alternate" hreflang="zh" href="https://allinone.page/tools/diff-checker/?lang=zh" />
    <link rel="alternate" hreflang="x-default" href="https://allinone.page/tools/diff-checker/" />

    <!-- Open Graph -->
    <meta property="og:url" content="https://allinone.page/tools/diff-checker/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Diff Checker - Free Online Comparison Tool">
    <meta property="og:description" content="Compare strings and files for differences instantly.">
    <meta property="og:image" content="https://allinone.page/assets/og-image.png">

    <link rel="stylesheet" href="../../css/style.css">

    <!-- jsdiff -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsdiff/5.1.0/diff.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .diff-added {
            background-color: #dcfce7;
            color: #166534;
            text-decoration: none;
        }

        .diff-removed {
            background-color: #fee2e2;
            color: #991b1b;
            text-decoration: line-through;
        }

        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

    <!-- Navbar -->
    <nav class="bg-white py-4 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa-solid fa-screwdriver-wrench text-blue-600 text-2xl"></i>
                <a href="../../index.html" class="text-xl font-bold text-gray-900">allinone.page</a>
            </div>
            <div class="hidden md:flex items-center space-x-8 text-sm font-medium text-gray-600">
                <a href="../../index.html" class="hover:text-blue-600 transition" data-i18n="nav.home">Home</a>
                <a href="../../index.html#featured" class="hover:text-blue-600 transition"
                    data-i18n="nav.categories">Categories</a>
                <a href="../../about.html" class="hover:text-blue-600 transition" data-i18n="nav.about">About</a>
                <!-- Language Switcher Dropdown -->
                <div class="relative inline-block text-left border-l pl-6 border-gray-300">
                    <select onchange="changeLanguage(this.value)"
                        class="bg-transparent text-sm font-medium text-gray-600 hover:text-blue-600 focus:outline-none cursor-pointer">
                        <option value="en">üá∫üá∏ EN</option>
                        <option value="zh">üá®üá≥ ‰∏≠Êñá</option>
                        <option value="es">üá™üá∏ ES</option>
                        <option value="pt">üáßüá∑ PT</option>
                        <option value="id">üáÆüá© ID</option>
                        <option value="hi">üáÆüá≥ HI</option>
                        <option value="ar">üá∏üá¶ AR</option>
                    </select>
                </div>
            </div>
        </div>
    </nav>

    <!-- Tool Header -->
    <div class="bg-blue-600 text-white py-12 mb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-3xl font-bold mb-4" data-i18n="tool.diff.title">Diff Checker</h1>
            <p class="text-blue-100 max-w-2xl mx-auto" data-i18n="tool.diff.desc">Compare texts to find the difference
                between two files.</p>
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">

        <div class="mb-6 flex justify-center space-x-4">
            <label class="flex items-center space-x-2 cursor-pointer">
                <input type="radio" name="diff-type" value="chars" class="text-blue-600 focus:ring-blue-500">
                <span data-i18n="diff.type.chars">Chars</span>
            </label>
            <label class="flex items-center space-x-2 cursor-pointer">
                <input type="radio" name="diff-type" value="words" checked class="text-blue-600 focus:ring-blue-500">
                <span data-i18n="diff.type.words">Words</span>
            </label>
            <label class="flex items-center space-x-2 cursor-pointer">
                <input type="radio" name="diff-type" value="lines" class="text-blue-600 focus:ring-blue-500">
                <span data-i18n="diff.type.lines">Lines</span>
            </label>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
            <!-- Original -->
            <div>
                <div class="flex justify-between items-center mb-2">
                    <label class="block text-gray-700 font-bold ml-1" data-i18n="diff.label.original">Original
                        Text</label>
                    <label class="cursor-pointer text-blue-600 hover:text-blue-800 text-sm font-medium">
                        <i class="fa-solid fa-upload mr-1"></i> <span data-i18n="diff.action.upload">Upload File</span>
                        <input type="file" id="file-original" class="hidden">
                    </label>
                </div>
                <textarea id="text-original" rows="10"
                    class="w-full border border-gray-300 rounded-lg p-4 font-mono text-sm focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="Enter original text here..."></textarea>
            </div>
            <!-- Changed -->
            <div>
                <div class="flex justify-between items-center mb-2">
                    <label class="block text-gray-700 font-bold ml-1" data-i18n="diff.label.changed">New Text</label>
                    <label class="cursor-pointer text-blue-600 hover:text-blue-800 text-sm font-medium">
                        <i class="fa-solid fa-upload mr-1"></i> <span data-i18n="diff.action.upload">Upload File</span>
                        <input type="file" id="file-changed" class="hidden">
                    </label>
                </div>
                <textarea id="text-changed" rows="10"
                    class="w-full border border-gray-300 rounded-lg p-4 font-mono text-sm focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="Enter new text here..."></textarea>
            </div>
        </div>

        <div class="text-center mb-8">
            <button id="btn-compare"
                class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-bold transition shadow-md text-lg">
                <i class="fa-solid fa-code-compare mr-2"></i> <span data-i18n="diff.action.compare">Find
                    Difference</span>
            </button>
        </div>

        <!-- Result -->
        <div id="result-container" class="hidden bg-white rounded-xl shadow-sm border border-gray-100 p-6">
            <h3 class="text-lg font-bold text-gray-900 mb-4" data-i18n="base64.output.label">Result</h3>
            <pre id="diff-output"
                class="font-mono text-sm text-gray-800 bg-gray-50 p-4 rounded-lg overflow-x-auto"></pre>
        </div>

        <!-- FAQ -->
        <section class="max-w-4xl mx-auto mt-16 prose prose-blue text-gray-600 mb-12">
            <h2 class="text-2xl font-bold text-gray-900 mb-4" data-i18n="diff.faq.title">Diff Checker FAQ</h2>
            <p class="mb-4" data-i18n="diff.faq.desc">Quickly find differences between two blocks of text. Supports
                character, word, and line comparison.</p>

            <h3 class="text-xl font-bold text-gray-900 mb-2" data-i18n="common.features">Features</h3>
            <ul class="list-disc pl-5 space-y-2 mb-6">
                <li data-i18n="diff.feat.1"><strong>Visual Diff:</strong> Clearly highlights additions (green) and
                    removals (red).</li>
                <li data-i18n="diff.feat.2"><strong>Multiple Modes:</strong> Compare by characters, words, or lines.
                </li>
                <li data-i18n="common.client_side"><strong>Client-Side:</strong> Privacy-first processing.</li>
            </ul>
        </section>



        <!-- SEO Content (Injected) -->
        <div class="mt-16 border-t border-gray-100 pt-12">
            <h2 class="text-2xl font-bold text-gray-900 mb-6" data-i18n="diff.seo.h2">Online Text Diff Checker</h2>
            <h2 class="text-sm font-bold text-gray-500 uppercase tracking-wide mb-2"
                data-i18n="diff.seo.keywords_label">Related Keywords:</h2>
            <div class="flex flex-wrap gap-2 text-sm text-gray-600" data-i18n="diff.seo.keywords">
                <span class="bg-gray-100 px-2 py-1 rounded">diff checker</span>
                <span class="bg-gray-100 px-2 py-1 rounded">compare text</span>
                <span class="bg-gray-100 px-2 py-1 rounded">text difference</span>
            </div>
            <div class="prose max-w-none text-gray-600">
                <p class="mb-4">Compare two text files or code snippets side-by-side to highlight differences,
                    additions,
                    and deletions.</p>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <!-- Footer -->
    <footer class="bg-white border-t border-gray-100 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center space-x-2 mb-4 md:mb-0">
                    <i class="fa-solid fa-screwdriver-wrench text-blue-600 text-xl"></i>
                    <a href="../../index.html" class="text-lg font-bold text-gray-900">allinone.page</a>
                </div>
                <div class="flex space-x-8 text-sm text-gray-500">
                    <a href="../../privacy.html" class="hover:text-blue-600 transition"
                        data-i18n="footer.privacy">Privacy Policy</a>
                    <a href="../../terms.html" class="hover:text-blue-600 transition" data-i18n="footer.terms">Terms of
                        Service</a>
                    <a href="../../about.html#contact" class="hover:text-blue-600 transition"
                        data-i18n="footer.contact">Contact</a>
                </div>
            </div>
            <div class="mt-8 text-center md:text-right text-xs text-gray-400" data-i18n="footer.rights">
                &copy; 2026 allinone.page. All rights reserved.
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    <script src="../../js/i18n.js?v=2"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        document.addEventListener('DOMContentLoaded', () => {
            const textOrig = document.getElementById('text-original');
            const textNew = document.getElementById('text-changed');
            const btnCompare = document.getElementById('btn-compare');
            const output = document.getElementById('diff-output');
            const resultContainer = document.getElementById('result-container');
            const diffTypes = document.getElementsByName('diff-type');

            const fileOrig = document.getElementById('file-original');
            const fileNew = document.getElementById('file-changed');

            async function extractTextFromPdf(file) {
                const arrayBuffer = await file.arrayBuffer();
                const pdf = await pdfjsLib.getDocument(arrayBuffer).promise;
                let fullText = '';

                for (let i = 1; i <= pdf.numPages; i++) {
                    const page = await pdf.getPage(i);
                    const textContent = await page.getTextContent();
                    const pageText = textContent.items.map(item => item.str).join(' ');
                    fullText += pageText + '\n';
                }
                return fullText;
            }

            async function extractTextFromDocx(file) {
                const arrayBuffer = await file.arrayBuffer();
                const result = await mammoth.extractRawText({ arrayBuffer: arrayBuffer });
                return result.value;
            }

            function handleFileUpload(fileInput, textArea) {
                fileInput.addEventListener('change', async (e) => {
                    const file = e.target.files[0];
                    if (!file) return;

                    const originalPlaceholder = textArea.placeholder;
                    textArea.placeholder = "Reading file...";
                    textArea.value = "";

                    try {
                        let text = "";
                        if (file.type === "application/pdf") {
                            text = await extractTextFromPdf(file);
                        } else if (file.type === "application/vnd.openxmlformats-officedocument.wordprocessingml.document" || file.name.endsWith(".docx")) {
                            text = await extractTextFromDocx(file);
                        } else {
                            // Default to text reading
                            text = await new Promise((resolve) => {
                                const reader = new FileReader();
                                reader.onload = (e) => resolve(e.target.result);
                                reader.readAsText(file);
                            });
                        }

                        textArea.value = text;
                    } catch (err) {
                        console.error(err);
                        alert(window.i18n.t('diff.alert.read_error') + err.message);
                    } finally {
                        textArea.placeholder = originalPlaceholder;
                    }
                });
            }

            handleFileUpload(fileOrig, textOrig);
            handleFileUpload(fileNew, textNew);

            btnCompare.addEventListener('click', () => {
                const one = textOrig.value;
                const other = textNew.value;

                let type = 'words';
                for (const r of diffTypes) if (r.checked) type = r.value;

                let diff;
                if (type === 'chars') diff = Diff.diffChars(one, other);
                else if (type === 'words') diff = Diff.diffWords(one, other);
                else diff = Diff.diffLines(one, other);

                const fragment = document.createDocumentFragment();

                diff.forEach((part) => {
                    // green for additions, red for deletions
                    // grey for common parts
                    const color = part.added ? 'diff-added' :
                        part.removed ? 'diff-removed' : 'text-gray-500';

                    const span = document.createElement('span');
                    span.className = color;
                    span.appendChild(document.createTextNode(part.value));
                    fragment.appendChild(span);
                });

                output.innerHTML = '';
                output.appendChild(fragment);
                resultContainer.classList.remove('hidden');
            });
        });
    </script>
</body>

</html>